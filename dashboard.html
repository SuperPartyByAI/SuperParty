<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SuperParty ğŸ‰ - Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; display: flex; }
        .sidebar { width: 280px; background: white; box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1); display: flex; flex-direction: column; position: fixed; height: 100vh; z-index: 100; }
        .sidebar-header { padding: 35px 20px 30px 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; position: relative; overflow: hidden; text-align: center; }
        .sidebar-header::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px); background-size: 50px 50px; animation: particlesMove 20s linear infinite; }
        @keyframes particlesMove { 0% { transform: translate(0, 0); } 100% { transform: translate(50px, 50px); } }
        .sidebar-header h1 { font-size: 28px; margin-bottom: 15px; position: relative; z-index: 1; font-weight: 800; letter-spacing: 1px; animation: glow 2s ease-in-out infinite; text-align: center; }
        @keyframes glow { 0%, 100% { text-shadow: 0 0 10px rgba(255,255,255,0.5), 0 0 20px rgba(255,255,255,0.3); } 50% { text-shadow: 0 0 20px rgba(255,255,255,0.8), 0 0 30px rgba(255,255,255,0.5); } }
        .sidebar-header .by-ai { font-size: 16px; opacity: 0.95; position: relative; z-index: 1; display: flex; align-items: center; justify-content: center; gap: 8px; font-weight: 700; letter-spacing: 2px; width: 100%; }
        .ai-badge { background: rgba(255,255,255,0.25); padding: 6px 16px; border-radius: 25px; font-size: 16px; font-weight: 800; animation: pulse 2s ease-in-out infinite; display: inline-flex; align-items: center; gap: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
        @keyframes pulse { 0%, 100% { transform: scale(1); opacity: 0.9; } 50% { transform: scale(1.05); opacity: 1; } }
        .ai-icon { display: inline-block; animation: rotate 3s linear infinite; font-size: 20px; }
        @keyframes rotate { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .sparkle { display: inline-block; animation: sparkle 1.5s ease-in-out infinite; font-size: 20px; }
        @keyframes sparkle { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.5; transform: scale(0.8); } }
        .ai-chat-button { position: fixed; bottom: 30px; right: 30px; z-index: 1000; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 50px; padding: 18px 28px; font-size: 16px; font-weight: 700; cursor: pointer; box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4); display: flex; align-items: center; gap: 12px; transition: all 0.3s ease; animation: floatButton 3s ease-in-out infinite; }
        .ai-chat-button:hover { transform: translateY(-5px) scale(1.05); box-shadow: 0 12px 35px rgba(102, 126, 234, 0.6); }
        @keyframes floatButton { 0%, 100% { transform: translateY(0px); box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4); } 50% { transform: translateY(-10px); box-shadow: 0 15px 35px rgba(102, 126, 234, 0.5); } }
        .ai-chat-icon { font-size: 24px; animation: robotTalk 1s ease-in-out infinite; }
        @keyframes robotTalk { 0%, 100% { transform: rotate(0deg); } 25% { transform: rotate(-10deg); } 75% { transform: rotate(10deg); } }
        .ai-chat-pulse { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 100%; height: 100%; border-radius: 50px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); opacity: 0.6; animation: pulseRing 2s ease-out infinite; pointer-events: none; }
        @keyframes pulseRing { 0% { transform: translate(-50%, -50%) scale(1); opacity: 0.6; } 100% { transform: translate(-50%, -50%) scale(1.5); opacity: 0; } }
        .sidebar-nav { flex: 1; overflow-y: auto; padding: 20px 0; }
        .menu-item { padding: 15px 20px; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: 12px; font-size: 16px; font-weight: 500; border-left: 3px solid transparent; }
        .menu-item:hover { background: #f3f4f6; color: #667eea; border-left-color: #667eea; }
        .menu-item.active { background: #ede9fe; color: #667eea; border-left-color: #667eea; }
        .menu-icon { font-size: 20px; width: 24px; text-align: center; }
        .main-content { flex: 1; margin-left: 280px; padding: 40px; overflow-y: auto; }
        .page { display: none; }
        .page.active { display: block; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .page-header { background: white; border-radius: 20px; padding: 30px; margin-bottom: 30px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); }
        .page-header h2 { font-size: 32px; color: #1f2937; margin-bottom: 10px; }
        .page-header p { color: #6b7280; font-size: 16px; }
        .secret-content { display: none; }
        .secret-content.active { display: block; }
        .password-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); z-index: 9999; justify-content: center; align-items: center; animation: fadeIn 0.3s ease; }
        .password-modal-content { background: white; border-radius: 20px; padding: 40px; max-width: 400px; width: 90%; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4); text-align: center; animation: slideUp 0.3s ease; }
        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .password-modal h3 { font-size: 28px; color: #1f2937; margin-bottom: 20px; }
        .password-modal input { width: 100%; padding: 15px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 18px; margin-bottom: 20px; text-align: center; font-weight: 600; letter-spacing: 3px; }
        .password-modal input:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }
        .password-modal-buttons { display: flex; gap: 10px; }
        .password-modal-buttons button { flex: 1; padding: 15px; border: none; border-radius: 12px; font-size: 16px; font-weight: 700; cursor: pointer; transition: all 0.3s; }
        .password-submit { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4); }
        .password-submit:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6); }
        .password-cancel { background: #e5e7eb; color: #6b7280; }
        .password-cancel:hover { background: #d1d5db; }
        .user-info { padding: 20px; border-top: 1px solid #e5e7eb; }
        .user-details { margin-bottom: 15px; text-align: center; }
        #userName { font-weight: 700; font-size: 16px; color: #1f2937; }
        #userRole { font-size: 14px; color: #6b7280; }
        .logout-btn { width: 100%; padding: 12px; background: white; border: 2px solid #e5e7eb; border-radius: 10px; color: #374151; font-weight: 600; cursor: pointer; transition: all 0.3s; }
        .logout-btn:hover { background: #fee; border-color: #fcc; color: #dc2626; }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <h1>SuperParty ğŸ‰</h1>
            <div class="by-ai"><span>by</span><span class="ai-badge"><span class="ai-icon">ğŸ¤–</span><span>AI</span><span class="sparkle">âœ¨</span></span></div>
        </div>
        <div class="sidebar-nav">
            <div class="menu-item active" onclick="showPage('home')"><span class="menu-icon">ğŸ </span><span>AcasÄƒ</span></div>
            <div class="menu-item" onclick="showPage('noteaza-eveniment')"><span class="menu-icon">â•</span><span>NoteazÄƒ Eveniment</span></div>
            <div class="menu-item" onclick="showPage('petreceri-nealocate')"><span class="menu-icon">ğŸ“‹</span><span>Petreceri Nealocate</span></div>
            <div class="menu-item" onclick="showPage('ce-petreceri-am')"><span class="menu-icon">ğŸŠ</span><span>Ce Petreceri Am</span></div>
            <div class="menu-item" onclick="showPage('calendar')"><span class="menu-icon">ğŸ“…</span><span>Calendarul Anului</span></div>
            <div class="menu-item" onclick="showPage('lista-petreceri')"><span class="menu-icon">ğŸˆ</span><span>ListÄƒ Petreceri</span></div>
            <div class="menu-item" onclick="showPage('soferi')"><span class="menu-icon">ğŸš—</span><span>Evenimente cu È˜oferi</span></div>
            <div class="menu-item" onclick="showPage('cu-factura')"><span class="menu-icon">ğŸ§¾</span><span>Cu FacturÄƒ</span></div>
            <div class="menu-item" onclick="showPage('echipa')"><span class="menu-icon">ğŸ‘¥</span><span>Echipa</span></div>
            <div class="menu-item" onclick="showPage('inventar')"><span class="menu-icon">ğŸ“¦</span><span>Inventar</span></div>
            <div class="menu-item" onclick="showPage('piniata')"><span class="menu-icon">ğŸ¯</span><span>Piniata</span></div>
            <div class="menu-item" onclick="showPage('verifica-formular')"><span class="menu-icon">ğŸ“¸</span><span>VerificÄƒ Formular</span></div>
            <div class="menu-item" onclick="checkPasswordAndShowSecret()"><span class="menu-icon">ğŸ”’</span><span>PaginÄƒ SecretÄƒ</span></div>
            <div id="secretMenuSection" style="display: none; margin-left: 15px; border-left: 3px solid #ef4444; padding-left: 5px;">
                <div class="menu-item" onclick="showSecretPage('bifeaza-evenimente-secret')" style="font-size: 14px; padding: 12px 20px;"><span class="menu-icon">âœ…</span><span>BifeazÄƒ Evenimente</span></div>
                <div class="menu-item" onclick="showSecretPage('genereaza-coduri-secret')" style="font-size: 14px; padding: 12px 20px;"><span class="menu-icon">ğŸ”‘</span><span>GenereazÄƒ Coduri</span></div>
            </div>
        </div>
        <div class="user-info">
            <div class="user-details">
                <div id="userName">Se Ã®ncarcÄƒ...</div>
                <div id="userRole">-</div>
            </div>
            <button class="logout-btn" onclick="logout()">ğŸšª Deconectare</button>
        </div>
    </div>
    <div class="main-content">
        <div class="page active" id="home">
            <div class="page-header"><h2>ğŸŠ Bine ai venit!</h2><p>Dashboard SuperParty - GestioneazÄƒ evenimente rapid È™i eficient</p></div>
        </div>
        <div class="page" id="noteaza-eveniment"><div class="page-header"><h2>â• NoteazÄƒ Eveniment Nou</h2><p>CompleteazÄƒ formularul pentru a adÄƒuga un eveniment nou</p></div></div>
        <div class="page" id="petreceri-nealocate"><div class="page-header"><h2>ğŸ“‹ Petreceri Nealocate</h2><p>Lista petrecerilor care aÈ™teaptÄƒ sÄƒ fie alocate unui È™ofer</p></div></div>
        <div class="page" id="ce-petreceri-am"><div class="page-header"><h2>ğŸŠ Ce Petreceri Am</h2><p>Petrecerile pe care le-ai notat tu</p></div></div>
        <div class="page" id="calendar"><div class="page-header"><h2>ğŸ“… Calendarul Anului</h2><p>Vizualizare calendar cu toate evenimentele</p></div></div>
        <div class="page" id="lista-petreceri"><div class="page-header"><h2>ğŸˆ ListÄƒ Petreceri</h2><p>Toate petrecerile Ã®nregistrate Ã®n sistem</p></div></div>
        <div class="page" id="soferi"><div class="page-header"><h2>ğŸš— Evenimente cu È˜oferi</h2><p>Managementul transportului pentru evenimente</p></div></div>
        <div class="page" id="cu-factura"><div class="page-header"><h2>ğŸ§¾ Cu FacturÄƒ</h2><p>Evenimente care necesitÄƒ facturare</p></div></div>
        <div class="page" id="echipa"><div class="page-header"><h2>ğŸ‘¥ Echipa</h2><p>Managementul membrilor echipei</p></div></div>
        <div class="page" id="inventar"><div class="page-header"><h2>ğŸ“¦ Inventar</h2><p>Gestionare inventar È™i echipamente</p></div></div>
        <div class="page" id="piniata"><div class="page-header"><h2>ğŸ¯ Piniata</h2><p>Statistici È™i management piniate</p></div></div>
        <div class="page" id="verifica-formular"><div class="page-header"><h2>ğŸ“¸ VerificÄƒ Formular cu PozÄƒ</h2><p>ÃncarcÄƒ poza cu formularul primit</p></div></div>
        <div class="page" id="pagina-secreta">
            <div class="page-header"><h2>ğŸ” PaginÄƒ SecretÄƒ</h2><p>Acces special pentru administratori</p></div>
            <div class="secret-content active" id="bifeaza-evenimente-secret"><div class="page-header"><h2>âœ… BifeazÄƒ Evenimente Secret</h2><p>MarcheazÄƒ evenimentele finalizate</p></div></div>
            <div class="secret-content" id="genereaza-coduri-secret"><div class="page-header"><h2>ğŸ”‘ GenereazÄƒ Coduri Secret</h2><p>CreeazÄƒ coduri de acces pentru utilizatori noi</p></div></div>
        </div>
    </div>
    <button class="ai-chat-button" onclick="alert('ğŸ¤– Chat AI Ã®n curs de dezvoltare!')"><div class="ai-chat-pulse"></div><span class="ai-chat-icon">ğŸ¤–</span><span>Chat AI</span></button>
    <div class="password-modal" id="passwordModal">
        <div class="password-modal-content">
            <h3>ğŸ”’ Acces RestricÈ›ionat</h3>
            <p style="color: #6b7280; margin-bottom: 20px;">Introdu parola pentru pagina secretÄƒ</p>
            <input type="password" id="passwordInput" placeholder="â€¢â€¢â€¢â€¢" maxlength="4" autofocus>
            <div class="password-modal-buttons">
                <button class="password-cancel" onclick="closePasswordModal()">âŒ AnuleazÄƒ</button>
                <button class="password-submit" onclick="submitPassword()">âœ… AcceseazÄƒ</button>
            </div>
        </div>
    </div>
    <script>
const supabase=window.supabase.createClient('https://bkhzilcjxuncyxpyhtbb.supabase.co','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJraHppbGNqeHVuY3l4cHlodGJiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI5ODE5ODAsImV4cCI6MjA3ODU1Nzk4MH0._nYGKr3QqjCBhRDJ8zXrcEpG5pUA980ZZIivjC1VXS8');async function checkAuth(){const{data:{session}}=await supabase.auth.getSession();if(!session){window.location.href='login.html';return;}loadUserData(session.user);}async function loadUserData(user){try{const{data,error}=await supabase.from('users').select('*').eq('id',user.id).single();if(error){document.getElementById('userName').textContent=user.email;document.getElementById('userRole').textContent='Utilizator';}else{document.getElementById('userName').textContent=data.full_name||user.email;document.getElementById('userRole').textContent=data.role==='admin'?'ğŸ‘‘ Admin':'ğŸ‘¤ Angajat';}}catch(err){console.error(err);}}async function logout(){await supabase.auth.signOut();window.location.href='login.html';}function showPage(p){document.querySelectorAll('.page').forEach(e=>e.classList.remove('active'));const page=document.getElementById(p);if(page)page.classList.add('active');document.querySelectorAll('.menu-item').forEach(i=>i.classList.remove('active'));document.querySelectorAll('.menu-item').forEach(i=>{if(i.getAttribute('onclick')&&i.getAttribute('onclick').includes(p))i.classList.add('active');});if(p!=='pagina-secreta')document.getElementById('secretMenuSection').style.display='none';}function checkPasswordAndShowSecret(){document.getElementById('passwordModal').style.display='flex';document.getElementById('passwordInput').value='';setTimeout(()=>document.getElementById('passwordInput').focus(),100);document.getElementById('passwordInput').onkeypress=e=>{if(e.key==='Enter')submitPassword();};}function closePasswordModal(){document.getElementById('passwordModal').style.display='none';}function submitPassword(){if(document.getElementById('passwordInput').value==='1234'){closePasswordModal();showPage('pagina-secreta');document.getElementById('secretMenuSection').style.display='block';showSecretPage('bifeaza-evenimente-secret');setTimeout(()=>alert('âœ… Acces permis!'),300);}else{alert('âŒ ParolÄƒ greÈ™itÄƒ!');document.getElementById('passwordInput').value='';document.getElementById('passwordInput').focus();}}function showSecretPage(pageId){document.querySelectorAll('.secret-content').forEach(s=>{s.style.display='none';s.classList.remove('active');});const section=document.getElementById(pageId);if(section){section.style.display='block';section.classList.add('active');}document.querySelectorAll('#secretMenuSection .menu-item').forEach(i=>i.classList.remove('active'));document.querySelectorAll('#secretMenuSection .menu-item').forEach(i=>{if(i.getAttribute('onclick')&&i.getAttribute('onclick').includes(pageId))i.classList.add('active');});}checkAuth();supabase.auth.onAuthStateChange((event,session)=>{if(event==='SIGNED_OUT'){window.location.href='login.html';}});
    </script>
</body>
</html>
